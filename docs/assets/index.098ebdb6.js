export function __vite_legacy_guard(){import("data:text/javascript,")}import{d as e,c as t,a as o,b as n,u as a,r as s,e as i,f as r,s as l,g as u,h as d,i as c,w as m,j as _,k as p,l as g,m as T,n as E,o as O,p as v,q as f,t as h,F as I,v as L,x as D,y as b,z as y,A as S,B as R,C as x,D as k,P as M,T as w,E as G}from"./vendor.a6a68fde.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var A={namespaced:!0,state:{token:"",userError:!1},mutations:{LOGIN:(e,t)=>{e.token=t},LOGOUT:e=>{e.token=""},LOGIN_USER_ERROR:(e,t)=>{e.userError=t}},getters:{GET_LOGIN_STATUS:e=>!!e.token,GET_LOGIN_USER_ERROR_STATUS:e=>e.userError},actions:{LOGIN:async({commit:e},t)=>{e("LOGIN_USER_ERROR",!1),await new Promise((e=>{setTimeout((()=>{e((()=>!0))}),Math.floor(2001*Math.random())+300)}));const o=!("testID"!==t.userId||"testPASS"!==t.password),n=o?"dummy-token":"";return e("LOGIN_USER_ERROR",!o),e("LOGIN",n),o},LOGOUT:({commit:e})=>{e("LOGOUT")},RESET_LOGIN_USER_ERROR_STATUS:({commit:e})=>{e("LOGIN_USER_ERROR",!1)}}},U={namespaced:!0,state:{items:[]},mutations:{ADD_TODO_ITEM:(e,t)=>{e.items.push(t.item)},UPDATE_TODO_ITEM:(e,t)=>{t.item.subject=t.newSubject},DONE_TODO_ITEM:(t,o)=>{o.item.isDone=!o.item.isDone,o.item.timestamp=e(new Date).format("YYYY/MM/DD HH:mm:ss")},REMOVE_TODO_ITEM:(e,t)=>{e.items=e.items.filter((e=>e!==t.item))},SET_TODO_ITEMS:(e,t)=>{e.items=t.items}},getters:{GET_TODO_ITEMS:e=>e.items},actions:{ADD_TODO_ITEM:({commit:t},o)=>{const n=new Date;t("ADD_TODO_ITEM",{item:{id:n.getTime(),isDone:!1,subject:o,timestamp:e(n).format("YYYY/MM/DD HH:mm:ss")}})},UPDATE_TODO_ITEM:({commit:e},t)=>{e("UPDATE_TODO_ITEM",{item:t.item,newSubject:t.newSubject})},DONE_TODO_ITEM:({commit:e},t)=>{e("DONE_TODO_ITEM",{item:t})},REMOVE_TODO_ITEM:({commit:e},t)=>{e("REMOVE_TODO_ITEM",{item:t})},SET_TODO_ITEMS:({commit:e},t)=>{e("SET_TODO_ITEMS",{items:t})}}};const N=Symbol(),P=t({modules:{auth:A,todo:U,message:{namespaced:!0,state:{requireLogin:"ログインが必要です",loginError:"ログインエラー<br>ユーザーIDまたはパスワードが違います",emptyItem:"ToDoは登録されていません",requireInputTodo:"ToDoの件名を入力してください"}}},strict:Boolean(!1),plugins:[o({key:"PtExampleToken",paths:["auth.token"],storage:{getItem:e=>n.get(e),setItem:(e,t)=>n.set(e,t,{expires:1/24,secure:Boolean(!0)}),removeItem:e=>n.remove(e)}}),o({key:"PtExampleTodos",paths:["todo.items"]})]});function j(){return a(N)}const q=()=>{const e=j(),t=s(""),o=s(""),n=s(!1),a=i((()=>e.getters["auth/GET_LOGIN_STATUS"])),r=i((()=>e.getters["auth/GET_LOGIN_USER_ERROR_STATUS"]));return{userId:t,password:o,isLoginProcessing:n,isLoggedIn:a,isLoginUserError:r,login:async()=>{n.value=!0;const a={userId:t.value,password:o.value},s=await e.dispatch("auth/LOGIN",a);return n.value=!1,s},logout:()=>{e.dispatch("auth/LOGOUT")},resetLoginUserErrorStatus:()=>{e.dispatch("auth/RESET_LOGIN_USER_ERROR_STATUS")}}};var Y=(e,t)=>{for(const[o,n]of t)e[o]=n;return e};const H=r({name:"NavBar",components:{Toast:l},setup(){const e=u(),t=d(),o=c(),n=s(!1),{isLoggedIn:a,logout:i}=q(),r=()=>{n.value&&(n.value=!1)},l=()=>{o.add({detail:"ログアウトしました",life:2e3})};return m(t,(()=>r())),{isNavMenuOpen:n,isLoggedIn:a,toggleMenuExpand:()=>{n.value=!n.value},closeMenu:r,doLogout:()=>{i(),e.push("/"),l()}}}}),V=e=>(L("data-v-ea85f282"),e=e(),D(),e),B={class:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},C={class:"navbar-brand"},K=V((()=>g("svg",{viewBox:"0 0 64 64",id:"top-logo"},[g("use",{"xlink:href":"#polartech-logo"})],-1))),$=[V((()=>g("span",{"aria-hidden":"true"},null,-1))),V((()=>g("span",{"aria-hidden":"true"},null,-1))),V((()=>g("span",{"aria-hidden":"true"},null,-1)))],z=y("Home"),F=y("About"),W=y("TodoList"),J=y("Login"),Q=V((()=>g("div",{class:"svg-data"},[g("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[g("defs",null,[g("symbol",{viewbox:"0 0 64 64",id:"polartech-logo"},[g("g",null,[g("title",null,"Polar Tech Logo"),g("line",{id:"svg_1",fill:"none",x1:"8",y1:"31",x2:"8",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_2",fill:"none",x1:"16",y1:"21",x2:"16",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_3",fill:"none",x1:"24",y1:"20",x2:"24",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_4",fill:"none",x1:"32",y1:"27",x2:"32",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_5",fill:"none",x1:"40",y1:"31",x2:"40",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_6",fill:"none",x1:"48",y1:"35",x2:"48",y2:"44","stroke-linecap":"round"}),g("line",{id:"svg_7",fill:"none",x1:"56",y1:"31",x2:"56",y2:"44","stroke-linecap":"round"})])])])])],-1)));const X=r({components:{navbar:Y(H,[["render",function(e,t,o,n,a,s){const i=_("router-link"),r=_("Toast");return b(),p(I,null,[g("div",B,[g("div",C,[T(i,{class:"navbar-item",id:"top-logo-link",to:"/","aria-label":"Home"},{default:E((()=>[K])),_:1}),g("a",{class:"navbar-burger",role:"button","aria-label":"menu","aria-expanded":"false","data-target":"nav-menu",tabindex:"0",onClick:t[0]||(t[0]=t=>e.toggleMenuExpand()),onKeydown:t[1]||(t[1]=O((t=>e.toggleMenuExpand()),["enter"]))},$,32)]),g("div",{class:v(["navbar-menu",{"is-active":e.isNavMenuOpen}]),id:"nav-menu"},[g("div",{class:"navbar-end",onClick:t[4]||(t[4]=t=>e.closeMenu())},[T(i,{class:"navbar-item",id:"nav-home-link",to:"/"},{default:E((()=>[z])),_:1}),T(i,{class:"navbar-item",id:"nav-about-link",to:"/about"},{default:E((()=>[F])),_:1}),T(i,{class:"navbar-item",id:"nav-todo-link",to:"/todo"},{default:E((()=>[W])),_:1}),e.isLoggedIn?h("",!0):(b(),f(i,{key:0,class:"navbar-item",id:"nav-login-link",to:"/login"},{default:E((()=>[J])),_:1})),e.isLoggedIn?(b(),p("a",{key:1,class:"navbar-item",id:"nav-logout-link",tabindex:"0",onClick:t[2]||(t[2]=t=>e.doLogout()),onKeydown:t[3]||(t[3]=O((t=>e.doLogout()),["enter"]))},"Logout",32)):h("",!0)])],2),Q]),T(r,{position:"top-center"})],64)}],["__scopeId","data-v-ea85f282"]])}}),Z=g("footer",{class:"footer"},[g("div",{class:"content has-text-centered"},[g("p",null,"© 2019 Polar Tech")])],-1);var ee=Y(X,[["render",function(e,t,o,n,a,s){const i=_("navbar"),r=_("router-view");return b(),p(I,null,[g("header",null,[T(i)]),T(r),Z],64)}]]);const te={},oe=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/test-automation-exercise-site/${e}`)in te)return;te[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},ne=[{path:"/",name:"home",component:()=>oe((()=>import("./Home.3716d974.js")),["assets/Home.3716d974.js","assets/Home.25e8df61.css","assets/vendor.a6a68fde.js"])},{path:"/about",name:"about",component:()=>oe((()=>import("./About.d5f05418.js")),["assets/About.d5f05418.js","assets/About.23bc1f25.css","assets/vendor.a6a68fde.js"])},{path:"/login",name:"login",component:()=>oe((()=>import("./Login.313433f4.js")),["assets/Login.313433f4.js","assets/Login.0c9b7cb5.css","assets/vendor.a6a68fde.js","assets/useMessageStore.c7523b7a.js"])},{path:"/todo",name:"todo",component:()=>oe((()=>import("./TodoList.cc7bbfc1.js")),["assets/TodoList.cc7bbfc1.js","assets/TodoList.624cbdac.css","assets/vendor.a6a68fde.js","assets/useMessageStore.c7523b7a.js"]),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],ae=S({history:R("/test-automation-exercise-site/"),routes:ne,scrollBehavior:(e,t,o)=>o||{left:0,top:0}});ae.beforeEach(((e,t,o)=>{e.matched.some((e=>e.meta.requiresAuth))?P.getters["auth/GET_LOGIN_STATUS"]?o():o({path:"/login",query:Object({redirect:e.fullPath,message:"true"})}):"/login"===e.path&&P.getters["auth/GET_LOGIN_STATUS"]?o({path:"/todo"}):o()}));const se=x(ee),ie=k();se.use(ie),se.use(ae),se.use(P,N),se.use(M),se.use(w),se.use(G,{config:{id:"UA-144246391-1",params:{anonymize_ip:!0}}},ae),se.mount("#app");export{Y as _,j as a,q as u};
